function tt_delegate(e,t,a,n){console.log(a),e.addEventListener(t,(e=>{if(!e.target.classList.contains(a))return!1;n(e)}))}document.addEventListener("DOMContentLoaded",(function(e){const t=document.querySelectorAll('a[href^="#tp-popup-"]:not(.tp-popup-link)');if(t.length)for(let e=0;e<t.length;e++){const a=t[e],n=a.getAttribute("href").replace("#tp-popup-","");a.setAttribute("href","#"+n),a.classList.add("tp-popup-link","tp-form-ajax")}const a=document.querySelectorAll('a[href^="#"]:not(.tp-popup-link)');if(a.length)for(let e=0;e<a.length;e++){const t=a[e];switch(t.getAttribute("href").replace("#","")){case"request":t.setAttribute("href","#quote"),t.classList.add("tp-popup-link","tp-form-ajax")}}})),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}((function(e){var t,a=navigator.userAgent,n=/iphone/i.test(a),o=/chrome/i.test(a),r=/android/i.test(a);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var a;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each((function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((a=this.createTextRange()).collapse(!0),a.moveEnd("character",t),a.moveStart("character",e),a.select())}))):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1e5),t=e+a.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(a,i){var s,l,c,u,p,f,d;if(!a&&this.length>0){var m=e(this[0]).data(e.mask.dataName);return m?m():void 0}return i=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},i),s=e.mask.definitions,l=[],c=f=a.length,u=null,e.each(a.split(""),(function(e,t){"?"==t?(f--,c=e):s[t]?(l.push(new RegExp(s[t])),null===u&&(u=l.length-1),c>e&&(p=l.length-1)):l.push(null)})),this.trigger("unmask").each((function(){function m(){if(i.completed){for(var e=u;p>=e;e++)if(l[e]&&j[e]===h(e))return;i.completed.call(w)}}function h(e){return i.placeholder.charAt(e<i.placeholder.length?e:0)}function g(e){for(;++e<f&&!l[e];);return e}function v(e,t){var a,n;if(!(0>e)){for(a=e,n=g(t);f>a;a++)if(l[a]){if(!(f>n&&l[a].test(j[n])))break;j[a]=j[n],j[n]=h(n),n=g(n)}_(),w.caret(Math.max(u,e))}}function b(){y(),w.val()!=C&&w.change()}function k(e,t){var a;for(a=e;t>a&&f>a;a++)l[a]&&(j[a]=h(a))}function _(){w.val(j.join(""))}function y(e){var t,a,n,o=w.val(),r=-1;for(t=0,n=0;f>t;t++)if(l[t]){for(j[t]=h(t);n++<o.length;)if(a=o.charAt(n-1),l[t].test(a)){j[t]=a,r=t;break}if(n>o.length){k(t+1,f);break}}else j[t]===o.charAt(n)&&n++,c>t&&(r=t);return e?_():c>r+1?i.autoclear||j.join("")===x?(w.val()&&w.val(""),k(0,f)):_():(_(),w.val(w.val().substring(0,r+1))),c?t:u}var w=e(this),j=e.map(a.split(""),(function(e,t){return"?"!=e?s[e]?h(t):e:void 0})),x=j.join(""),C=w.val();w.data(e.mask.dataName,(function(){return e.map(j,(function(e,t){return l[t]&&e!=h(t)?e:null})).join("")})),w.one("unmask",(function(){w.off(".mask").removeData(e.mask.dataName)})).on("focus.mask",(function(){var e;w.prop("readonly")||(clearTimeout(t),C=w.val(),e=y(),t=setTimeout((function(){w.get(0)===document.activeElement&&(_(),e==a.replace("?","").length?w.caret(0,e):w.caret(e))}),10))})).on("blur.mask",b).on("keydown.mask",(function(e){if(!w.prop("readonly")){var t,a,o,r=e.which||e.keyCode;d=w.val(),8===r||46===r||n&&127===r?(a=(t=w.caret()).begin,(o=t.end)-a==0&&(a=46!==r?function(e){for(;--e>=0&&!l[e];);return e}(a):o=g(a-1),o=46===r?g(o):o),k(a,o),v(a,o-1),e.preventDefault()):13===r?b.call(this,e):27===r&&(w.val(C),w.caret(0,y()),e.preventDefault())}})).on("keypress.mask",(function(t){if(!w.prop("readonly")){var a,n,o,i=t.which||t.keyCode,s=w.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||32>i)&&i&&13!==i){if(s.end-s.begin!=0&&(k(s.begin,s.end),v(s.begin,s.end-1)),a=g(s.begin-1),f>a&&(n=String.fromCharCode(i),l[a].test(n))){if(function(e){var t,a,n,o;for(t=e,a=h(e);f>t;t++)if(l[t]){if(n=g(t),o=j[t],j[t]=a,!(f>n&&l[n].test(o)))break;a=o}}(a),j[a]=n,_(),o=g(a),r){setTimeout((function(){e.proxy(e.fn.caret,w,o)()}),0)}else w.caret(o);s.begin<=p&&m()}t.preventDefault()}}})).on("input.mask paste.mask",(function(){w.prop("readonly")||setTimeout((function(){var e=y(!0);w.caret(e),m()}),0)})),o&&r&&w.off("input.mask").on("input.mask",(function(){var e=w.val(),t=w.caret();if(d&&d.length&&d.length>e.length){for(y(!0);t.begin>0&&!l[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<u&&!l[t.begin];)t.begin++;w.caret(t.begin,t.begin)}else{for(y(!0);t.begin<f&&!l[t.begin];)t.begin++;w.caret(t.begin,t.begin)}m()})),y()}))}})})),jQuery(document).ready((function(e){e.fn.maskPhone=function(){e(this).mask("+9 (999) 999-99-99?9")},e("input.mask-phone, .mask-phone input").maskPhone(),e.fn.tt_get_form_notice_error=function(){null!=window.wp_data.notice_error&&e(this).html(window.wp_data.notice_error)},e.fn.tt_submit_form_ajax=function(t){if(""==t)var a=e(this).parent();else a=e(this).closest(t);var n=e(this),o=n.attr("id");e('.informer[data-id="'+o+'"]').length||a.append('<div class="informer" data-id="'+o+'"></div>');var r=e('.informer[data-id="'+o+'"]').eq(0);r.html("");n.find("button").attr("disabled","disable"),a.addClass("loader-bar"),console.log(n.serialize()),e.ajax({type:n.attr("method"),url:window.wp_data.ajax_url,data:n.serialize(),dataType:"json",cache:!1,traditional:!0,success:function(e){if(a.removeClass("loader-bar"),n.find('input[name="privacy-agree"]').removeAttr("checked"),null!=e.message&&null!=e.type){switch(e.type){case"ok":case"fail":n.remove();break;case"error":break;case"spam":n.remove()}r.html(e.message)}console.log("success: "),console.log(e)},error:function(e){a.removeClass("loader-bar"),n.find('input[name="privacy-agree"]').removeAttr("checked"),r.tt_get_form_notice_error(),console.warn("Errors: "),console.warn(e)}})},e.fn.tt_get_form_ajax=function(){var t=e(this),a=t.attr("data-form-ajax"),n=t.parent();n.addClass("loader-bar"),e('.informer[data-id="get-'+a+'"]').length||n.append('<div class="informer" data-id="get-'+a+'"></div>');var o=e('.informer[data-id="get-'+a+'"]');o.html(""),e("form#get-"+a).length||e.ajax({type:"post",url:window.wp_data.ajax_url,data:"action=theplugin_getform&get-form="+a,dataType:"json",cache:!1,traditional:!0,success:function(r){if(console.log(r),n.removeClass("loader-bar"),null!=r.message&&null!=r.type)switch(r.type){case"ok":n.append(r.message),e("form#get-"+a).find("input.mask-phone, .mask-phone input").maskPhone(),t.remove();break;case"fail":case"error":o.html(r.message)}else console.warn("Errors: "),console.warn(r),e('.informer[data-id="get-'+a+'"]').tt_get_form_notice_error(),n.removeClass("loader-bar")},error:function(t){console.warn("Errors: "),console.warn(t),e('.informer[data-id="get-'+a+'"]').tt_get_form_notice_error(),n.removeClass("loader-bar")}})},e(document).on("change","form.tp-form-valid input, form.tp-form-valid select, form.tp-form-valid textarea",(function(){var t=e(this).closest("form"),a=t.find("button");a.length||(a=t.find('input[type="submit"]')),t[0].checkValidity()?a.removeAttr("disabled"):a.attr("disabled","disable")})),e(document).on("submit","form.tt-form-ajax",(function(t){t.preventDefault(),e(this).tt_submit_form_ajax("")})),e.fn.tt_set_popup_wrapper=function(){var t=e(this).attr("href");return console.log("href "+t),null!=t?(t=t.replace("#",""),e("#theplugin-popup-"+t).length||e("body").append('<div id="theplugin-popup-'+t+'" class="theplugin-popup close" style="display:none;"><div class="block"><a class="tp-popup-link btn-close" href="#'+t+'"></a></div></div>'),e(this).hasClass("tp-form-ajax")&&!e("form#get-"+t).length&&e("#theplugin-popup-"+t+" .block").append('<div data-form-ajax="'+t+'" class="theplugin-form-ajax"></div>'),t):""},e.fn.tt_set_popup_toggle=function(t){var a=e(this).tt_set_popup_wrapper();if(console.log("popup "+a),""==a)return"";var n=e("#theplugin-popup-"+a),o=e(".grecaptcha-badge");n.hasClass("close")?(n.removeClass("close"),e("html, body").addClass("collapse"),o.addClass("active"),n.fadeIn(200),e('.theplugin-form-ajax[data-form-ajax="'+a+'"]').length&&e('.theplugin-form-ajax[data-form-ajax="'+a+'"]').tt_get_form_ajax()):(n.fadeOut(200,(function(){e(this).addClass("close")})),e("html, body").removeClass("collapse"),o.removeClass("active"))},e(document).on("click",".tp-popup-link",(function(t){t.preventDefault(),e(this).tt_set_popup_toggle(t)})),e(document).mouseup((function(t){var a=e(".theplugin-popup:not(.close) .block"),n=a.closest(".theplugin-popup").find(".btn-close").eq(0);a.is(t.target)||0!==a.has(t.target).length||n.tt_set_popup_toggle()})),e(window).on("load resize scroll",(function(){})),e(window).on("DOMContentLoaded load resize",(function(){}))}));